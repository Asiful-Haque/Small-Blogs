ЁЯУК Data Integrity and Constraints in Database ЁЯФТ
ржбрж╛ржЯрж╛ ржЗржирзНржЯрж┐ржЧрзНрж░рж┐ржЯрж┐ ржжрзНржмрж╛рж░рж╛ ржорзВрж▓ржд ржмрзЛржЭрж╛рзЯ ржбрж╛ржЯрж╛ рждрж╛рж░ рж╕ржорзНржкрзВрж░рзНржг рж▓рж╛ржЗржлрж╕рж╛ржЗржХрзЗрж▓ ржЬрзБрзЬрзЗ ржХрждржЯрзБржХрзБ Accurate, Consistent, and Complete.
ржЕрж░рзНржерж╛рзО ржПрж░ ржжрзНржмрж╛рж░рж╛ ржЖржорж░рж╛ ржбрж╛ржЯрж╛рж░ рж╕рзНржмржЪрзНржЫрждрж╛ ржУ ржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржпрждрж╛ ржмрзБржЭрж┐ред
ржбрж╛ржЯрж╛ ржЗржирзНржЯрж┐ржЧрзНрж░рж┐ржЯрж┐ ржмрзЛржЭрж╛рждрзЗ ржЖржорж░рж╛ рж╕рж╛ржзрж╛рж░ржгржд ржПржЗ ржзрж░ржиржЧрзБрж▓рзЛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐:

1я╕ПтГг Entity Integrity
ЁЯСЙ ржЯрзЗржмрж┐рж▓рзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ Row ржЗржЙржирж┐ржХ ржерж╛ржХржмрзЗ ржПржЯрж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗред
тЬЕ ржЖржорж░рж╛ Primary Key ржжрж┐рзЯрзЗ ржПржЯрж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рж┐, ржХрж╛рж░ржи рж╕рзЗржЯрж╛  ржнрзНржпрж╛рж▓рзБржХрзЗ ржЗржЙржирж┐ржХ ржПржмржВ Not Null рж╕рзЗржЯ ржХрж░рзЗред 
ЁЯз╛ Example:
CREATE TABLE Students (
  StudentNumber INT PRIMARY KEY,
  Name VARCHAR(100)
);

тЪая╕ПржХрж▓рж╛ржо ржпржжрж┐ Primary key ржЫрж╛рзЬрж╛ржУ UNIQUE ржПржмржВ Not Null ржерж╛ржХрзЗ рждрж╛рж╣рж▓рзЗржУ ржХрж┐ржирзНрждрзБ ржПржЯрж╛ Entity Integrity ржирж┐рж╢рзНржЪрж┐ржд ржХрж░ржмрзЗ ржирж╛ред


2я╕ПтГг Referential Integrity
ЁЯСЙ рж╕ржорзНржкрж░рзНржХржпрзБржХрзНржд ржЯрзЗржмрж┐рж▓ржЧрзБрж▓рзЛрж░ ржоржзрзНржпрзЗ Consistency ржмржЬрж╛рзЯ рж░рж╛ржЦрзЗред
тЬЕ ржЖржорж░рж╛ ржПржЯрж╛ Foreign Key ржжрж┐рзЯрзЗ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рж┐ред
ЁЯз╛ Example:
CREATE TABLE Departments (
  DeptID INT PRIMARY KEY
);

CREATE TABLE Employees (
  EmpID INT PRIMARY KEY,
  DeptID INT,
  FOREIGN KEY (DeptID) REFERENCES Departments(DeptID)
);
тЪая╕ПржПржЦрж╛ржирзЗ DeptID ржпржжрж┐ ржбрж┐рж▓рзЗржЯ ржХрж░рждрзЗ ржпрж╛ржЗ рждрж╛рж╣рж▓рзЗ ржПржЯрж╛ рж╕ржорзНржнржм ржирж╛, ржХрж╛рж░ржи рждрж╛рждрзЗ Employees ржЯрзЗржмрж┐рж▓рзЗрж░ ржбрж╛ржЯрж╛ DeptID ржЫрж╛рзЬрж╛ ржерж╛ржХржмрзЗред ржПржЯрж╛ valid ржирж╛ред 
тЪая╕ПржЕржирзНржпржжрж┐ржХрзЗ ржирждрзБржи ржХрзЛржирзЛ Employee ржУ ржПржб ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛ ржирждрзБржи ржХрзЛржирзЛ DeptID ржжрж┐рзЯрзЗ ржпржжрж┐ ржирж╛ рж╕рзЗржЗ DeptID ржЯрж╛ Departments ржЯрзЗржмрж┐рж▓рзЗ ржерж╛ржХрзЗред рж╕рзЗржЯрж╛ valid ржирж╛рж╣ред 
ржПржнрж╛ржмрзЗржЗ before(тЪая╕П above), during(Using cascade or null),after any operation, Consistency ржмржЬрж╛рзЯ рж░рж╛ржЦрзЗ Foreign key ржкрж░рж╖рзНржкрж░ рж╕ржорзНржкрж░рзНржХ ржпрзБржХрзНржд ржЯрзЗржмрж┐рж▓рзЗрж░ ржоржзрзНржпрзЗред ржПржЯрж╛ржЗ ржорзВрж▓ржд Referential Integrity.


3я╕ПтГг Domain Integrity (Built-in Rules)
ЁЯСЙ ржбрж╛ржЯрж╛рж░ ржХрзЛржи ржзрж░ржирзЗрж░ type ржПржмржВ format ржПржХржЯрж╛ ржХрж▓рж╛ржорзЗ allowed ржПржЯрж╛рж░ manual predefined рж░рзБрж▓рж╕ ржкрзНрж░ржжрж╛ржи ржХрж░рзЗ ржПржмржВ ржПржирзНржЯрзНрж░рж┐ ржХрж░рж╛ ржбрж╛ржЯрж╛ ржЧрзБрж▓рзЛ ржПржЗ predefined рж░рзБрж▓рж╕ ржорзЗржирзЗ valid рж╣рзЯ ржХрж┐ржирж╛ рж╕рзЗржЯрж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗред
тЬЕ ржПржЯрж╛ ржЖржорж░рж╛ system level constraint ржжрж┐рзЯрзЗ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рж┐ like: INT, VARCHAR, DATE, NOT NULL, CHECK etc.
ЁЯз╛ Example:
CREATE TABLE Customers (
  Age INT CHECK (Age >= 0),
  Email VARCHAR(100) NOT NULL
);


4я╕ПтГг User Defined Integrity
ЁЯСЙ User Defined Integrity ржорж╛ржирзЗ ржПржоржи Validation Rule ржпрж╛ ржЖржорж░рж╛ ржирж┐ржЬрзЗрж░рж╛ ржмрж╛ржирж╛ржЗ, ржХрж╛рж░ржг ржПржЧрзБрж▓рзЛ ржХрзЛржирзЛ built-in constraint ржжрж┐рзЯрзЗ ржХрж░рж╛ ржпрж╛рзЯ ржирж╛ред
ЁЯОп ржзрж░рж┐ ржЖржорж╛рж░ ржПржХржЯрж╛ Business Rule ржЖржЫрзЗ:
- ржПржХржЬржи Customer ржПржХржжрж┐ржирзЗ ржПржХржмрж╛рж░ржЗ order ржжрж┐рждрзЗ ржкрж╛рж░ржмрзЗред
- ржЕржержмрж╛, ржПржХржЬржи Employee ржПржХ ржорж╛рж╕рзЗ рзй ржЯрж╛рж░ ржмрзЗрж╢рж┐ overtime ржирж┐рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛ред
тЬЕ ржПрж╕ржм ржХржирзНржбрж┐рж╢ржи SQL ржПрж░ Built-in constraint ржжрж┐рзЯрзЗ enforce ржХрж░рж╛ ржпрж╛рзЯ ржирж╛ рж╕рж░рж╛рж╕рж░рж┐ред рждржЦржи ржЖржорж░рж╛ ржПржЧрзБрж▓рзЛ Trigger, Stored procedure, Application level handling ржжрж┐рзЯрзЗ ржХрж░рж┐ред

ЁЯФ╣ Built-in constraint ржорж╛ржирзЗ рж╣рж▓рзЛ: PRIMARY KEY, FOREIGN KEY, CHECK, NOT NULL ржЗрждрзНржпрж╛ржжрж┐ред
ЁЯФ╣ ржХрж┐ржирзНрждрзБ ржЕржирзЗржХ рж╕ржорзЯ ржЖржорж╛ржжрзЗрж░ ржХрж┐ржЫрзБ Custom Rule рж▓рж╛ржЧрждрзЗ ржкрж╛рж░рзЗ, ржпрзЗржЯрж╛ Business Logic ржПрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ рж╣рзЯред 
ЁЯз╛ Example:
CREATE TABLE Employees (
  EmpID INT PRIMARY KEY,
  Name VARCHAR(100),
  Age INT,
  Salary DECIMAL(10,2),
  CHECK (
    (Age BETWEEN 18 AND 30 AND Salary >= 15000)
    OR
    (Age BETWEEN 31 AND 60 AND Salary >= 25000)
  )
);
ржПржЗ CHECK constraint ржЯрж╛ ржХрж┐ржирзНрждрзБ ржЖржорж░рж╛ ржирж┐ржЬрзЗрж░рж╛ Logic ржжрж┐рзЯрзЗ ржмрж╛ржирж┐рзЯрзЗржЫрж┐ тАФ ржПржЯрж╛ User Defined Integrity.




тЬ│я╕П ржПржЦржи ржЖржорж░рж╛ ржпрж╛ ржПрждржХрзНрж╖ржг ржмрж▓ржЫрж┐рж▓рж╛ржотАФConstraintsтАФрж╕рзЗржЯрж╛ ржПржХржЯрзБ рж╕ржВржХрзНрж╖рзЗржкрзЗ ржПржмржВ ржкрж░рж┐рж╖рзНржХрж╛рж░ржнрж╛ржмрзЗ ржмрж╛ржВрж▓рж╛ ржнрж╛рж╖рж╛рзЯ ржжрзЗржЦрзЗ ржирж┐ржЗ:
Constraints рж╣рж▓рзЛ ржХрж┐ржЫрзБ ржирж┐рзЯржо (rules) ржпрж╛ ржбрзЗржЯрж╛ржмрзЗрж╕ ржЯрзЗржмрж┐рж▓рзЗрж░ ржХрж▓рж╛ржоржЧрзБрж▓рзЛрждрзЗ ржбрзЗржЯрж╛рж░ Validity, Accuracy ржПржмржВ Consistency ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗред That's what actually the data integrity.
ржЖржорж░рж╛ ржпрзЗ constraint ржЧрзБрж▓рзЛ рж╕рж╛ржзрж╛рж░ржгржд ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐:
- PRIMARY KEY
- FOREIGN KEY
- UNIQUE
- NOT NULL
- CHECK
- DEFAULT

ЁЯз╛ Combined Example:-
CREATE TABLE Roles (
  RoleID INT PRIMARY KEY,
  RoleName VARCHAR(50) NOT NULL
);

CREATE TABLE Users (
  ID INT PRIMARY KEY,
  Email VARCHAR(100) UNIQUE NOT NULL,
  Age INT CHECK (Age >= 18),
  CreatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  RoleID INT,
  FOREIGN KEY (RoleID) REFERENCES Roles(RoleID)
);


тЪая╕П Threats to Data Integrity
ЁЯФН Threats to Data Integrity refer to the risks that make data inaccurate, incomplete, or inconsistent, harming the reliability of the system.

Some common threats:
ЁЯзСтАНЁЯТ╗ Human Error: ржнрзБрж▓ ржЗржиржкрзБржЯ ржмрж╛ ржнрзБрж▓ржнрж╛ржмрзЗ ржбрж╛ржЯрж╛ ржорзБржЫрзЗ ржлрзЗрж▓рж╛/ржЖржкржбрзЗржЯ ржХрж░рж╛
ЁЯРЮ Software Bugs: ржХрзЛржбрзЗрж░ ржнрзБрж▓рзЗ ржбрж╛ржЯрж╛ corrupt рж╣ржУрзЯрж╛
ЁЯЫбя╕П Cyber Attacks: рж╣рзНржпрж╛ржХрж┐ржВ ржПрж░ ржорж╛ржзрзНржпржорзЗ ржбрж╛ржЯрж╛ ржмржжрж▓рж╛ржирзЛ ржмрж╛ ржорзБржЫрзЗ ржлрзЗрж▓рж╛
ЁЯТ╜ Hardware Failure: Disk crash, Power failure ржЗрждрзНржпрж╛ржжрж┐
ЁЯЪл No Constraints: Validation ржирж╛ ржерж╛ржХрж▓рзЗ ржнрзБрж▓ ржбрж╛ржЯрж╛ ржврзБржХрзЗ ржпрж╛рзЯ
ЁЯФД Concurrency Issues: ржПржХрж╛ржзрж┐ржХ user ржПржХрж╕рж╛ржерзЗ update ржХрж░рзЗ conflict ржХрж░рзЗ
ЁЯТ╛ Bad Backup: ржбрж╛ржЯрж╛ restore ржХрж░рж╛ ржирж╛ ржпрж╛ржУрзЯрж╛
ЁЯМР Transfer Errors: API/CSV ржПрж░ ржорж╛ржзрзНржпржорзЗ ржбрж╛ржЯрж╛ incomplete ржЖрж╕рж╛
ЁЯФР Unauthorized Access: Unwanted user ржбрж╛ржЯрж╛ modify ржХрж░рзЗ ржлрзЗрж▓рзЗ
тЪЦя╕П System Mismatch: Unit/Format mismatch тЖТ inconsistent ржбрж╛ржЯрж╛



Integrity	                ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ	                                  ржХрж┐ржнрж╛ржмрзЗ
Entity Integrity---------ржкрзНрж░рждрж┐ржЯрж┐ row ржЗржЙржирж┐ржХ-----------------------------PRIMARY KEY
Referential Integrity----ржЯрзЗржмрж┐рж▓рзЗрж░ ржоржзрзНржпрзЗ рж╕ржорзНржкрж░рзНржХ valid---------------------- FOREIGN KEY
Domain Integrity---------ржбрж╛ржЯрж╛ рж╕ржарж┐ржХ type/format ржП ржЖржЫрзЗ ржХрж┐ржирж╛-------------	INT, VARCHAR, CHECK
User Defined Integrity---Extra Custom Logic follow ржХрж░ржЫрзЗ ржХрж┐ржирж╛--------	CHECK (complex), TRIGGER, PROCEDURE, APP Logic



